/*! Mutiny v0.3.2 - http://mutinyjs.com/ */
(function(e,t){function r(e,t){return e?e.filter(t):$(t)}function i(e,r,i){var s=n.widgets[r]||n[r];if(s===t){throw a('"{0}" not found',r)}i=i||{};if(f(i)){var o={};if(s.string_arg){o[s.string_arg]=i}else if(s.stringArg){o[s.stringArg]=i}else{throw a('"{0}" cannot parse "{1}"',r,i)}i=o}if(!i.called){s.init(e,$.extend({},s.defaults,i));i.called=true;return i}}function s(e){return $.map(e.split(/(?=[A-Z])/),function(e){return e.toLowerCase()}).join("-")}function o(e){return e.charAt(0).toLowerCase()+e.slice(1)}function u(e,t){return e.indexOf(t)===0}function f(e){return!!e.substring}function l(e,t,n){var r=e.replace("%s",a("<span>{0}</span>",t||"&nbsp;"));if(n){return a('<span class="{0}">{1}</span>',n,r)}else{return a("<span>{0}</span>",r)}}function c(e,t,n){if(e.length===0){return function(){}}else if(t){var r={};for(var i in t){r[i]=e.css(i)}return function(n){e.css(n?t:r)}}else{n=n.split(" ");return function(t){e.toggleClass(n[0],!t);e.toggleClass(n[1],t)}}}$(function(){if(n.options.initOnReady){n.init()}});var n=e.Mutiny={options:{initOnReady:true},widgets:{},init:function(e,o){o=o||"mutiny";r(e,a("[data-{0}]",o)).each(function(e,t){var n=$(t);var r=n.data(o);if(f(r)){i(n,r,{})}else if(typeof v==="object"){for(var s in r){i(n,s,r[s])}}else{throw"Unsupported data"}});var u=[];for(var l in n.widgets){u.push(a("[data-{0}-{1}]",o,s(l)))}var c=r(e,u.join(","));for(var h=0;h<c.length;h++){var p=$(c[h]);for(l in n.widgets){var d=a("{0}-{1}",o,l);var v=p.data(d);if(v!==t){var m=i(p,l,v);if(m){p.data(d,m)}}}}}};var a=function(){var e=[];for(var t=0;t<10;t++){e[t]=new RegExp("\\{"+t+"\\}","gm")}return function(){var t=arguments[0];for(var n=1;n<arguments.length;n++){t=t.replace(e[n-1],arguments[n])}return t}}();n.widgets.accordion={defaults:{},init:function(t,n){var r=e.location.hash;if(r&&t.find(r).length>0){n.active=r}t.accordion(n);$(e).on("hashchange",function(n){var r=e.location.hash;if(r&&t.find(r).length>0){t.accordion("activate",r)}})}};n.widgets.datepicker={init:function(e,t){e.datepicker(t)}};n.widgets.slider={defaults:{range:"min"},init:function(e,t){var n;if(t.target){n=$(t.target)}else{var r=e.attr("id");if(r){n=$(a('<div id="{0}-mutiny-slider"></div>',r))}else{n=$("<div></div>")}n.insertAfter(e)}t.value=e.val();t.slide=function(t,n){e.val(n.value).change()};if(e.is("select")){var i=e.find("option");t.min=Number(i.first().val());t.max=Number(i.last().val());t.step=(t.max-t.min)/(i.length-1)}else{$.each(["min","max","step"],function(n,r){t[r]=Number(t[r]||e.attr(r)||e.data(r))})}e.change(function(){var r=Number(e.val());if(r>t.max){r=t.max}if(r<t.min){r=t.min}if(isNaN(r)){r=t.value}e.val(r);n.slider("value",r)});if(t.minLabel){n.append(l(t.minLabel,t.min,"min-label"))}if(t.maxLabel){n.append(l(t.maxLabel,t.max,"max-label"))}n.slider(t);if(t.valueLabel){var s=$(l(t.valueLabel,t.value,"value-label")).appendTo(n.find(".ui-slider-handle"));var o=s.find("span");e.change(function(){o.html(e.val())})}}};n.widgets.toggler={defaults:{classes:"inactive active",preventDefault:false},stringArg:"target",init:function(e,t){var n=$(t.target);var r=c(e,t.style,t.classes);var i=c(n,t.targetStyle,t.targetClasses||t.classes);if(e.is("input[type=radio]")){var s=e.attr("name");r(e.is(":checked"));i(e.is(":checked"));$(a('input[name="{0}"]',s)).change(function(t){r(e.is(":checked"));i(e.is(":checked"))})}else if(e.is("input[type=checkbox]")){r(e.is(":checked"));i(e.is(":checked"));e.change(function(t){r(e.is(":checked"));i(e.is(":checked"))})}else{var o=false;r(o);i(o);e.click(function(e){o=!o;r(o);i(o);if(t.preventDefault){e.preventDefault()}})}}}})(window)
